
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>&lt;no title&gt; &#8212; dmd  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <p># Dynamic Mode Decomposition Dashboard</p>
<p>Based on [Casorso et al., 2019][2], the dynamic mode decomposition algorithm allows for a dynamic analysis of cortical neurological activation. Here, a dashboard is developed to allow users to analyse their data using standardized and publication-quality visualizations of the dynamic modes.</p>
<p>## Installation</p>
<p>If you have Anaconda installed, skip to “Installation with conda”</p>
<p>First, make sure you have a working installation of Python 3.5, 3.6, or 3.7 (Python 3.8 is not yet supported).
Run <code class="docutils literal notranslate"><span class="pre">`python</span> <span class="pre">--version`</span></code> in your Terminal, which should return your current Python version.</p>
<p>The second step is installing dependencies. To do so in a safe manner, create a virtual environment at the base of the project and install all needed libraries in it</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">pip</span> <span class="pre">install</span> <span class="pre">virtualenv</span>
<span class="pre">virtualenv</span> <span class="pre">venv/</span>
<span class="pre">source</span> <span class="pre">venv/bin/activate</span>
<span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-r</span> <span class="pre">requirements/base.txt</span>
<span class="pre">`</span></code></p>
<p>### Installation with conda</p>
<p>If you have Anaconda installed, navigate to the project’s root folder and run the following commands.</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">conda</span> <span class="pre">create</span> <span class="pre">-n</span> <span class="pre">venv</span> <span class="pre">python=3.5</span>
<span class="pre">source</span> <span class="pre">activate</span> <span class="pre">venv</span>
<span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-r</span> <span class="pre">requirements/base.txt</span>
<span class="pre">`</span></code></p>
<p>## Running the program</p>
<p>Assuming this installation runs without errors, you should be able to launch the Dynamic Mode Decomposition Dashboard using the following command</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">fbs</span> <span class="pre">run</span>
<span class="pre">`</span></code></p>
<p>#### Segmentation fault on Linux</p>
<p>If you get the following error on Linux,</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">[1:1:0100/000000.386942:ERROR:broker_posix.cc(41)]</span> <span class="pre">Invalid</span> <span class="pre">node</span> <span class="pre">channel</span> <span class="pre">message</span>
<span class="pre">Segmentation</span> <span class="pre">fault</span> <span class="pre">(core</span> <span class="pre">dumped)</span>
<span class="pre">`</span></code></p>
<p>Run the following command before using <cite>fbs run</cite> again:</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">export</span> <span class="pre">QT_XCB_GL_INTEGRATION=xcb_egl</span>
<span class="pre">`</span></code></p>
<p>### Setting</p>
<p>When the window appears, you should be greeted with a short description, an input setting choice, and a card with selection information and settings.</p>
<p>Once you select a setting, the description is modified and instructs users how to proceed. Usually, files need to be added using the upload bar and selection settings need to be updated. When files are loaded and settings chosen, users can click on the`Run Decomposition` button and the visualization is launched.</p>
<p>#### Analysis</p>
<p>The analysis setting allows users to analyse the dynamic mode decomposition of one or multiple runs. This is the most straightforward way to use the dashboard.</p>
<p>#### Comparison</p>
<p>The comparison setting is useful when users want to compare two different groups of runs (or two individual runs). It simply displays the informations regarding both decompositions on the same figures.</p>
<p>#### Mode Matching</p>
<p>The mode matching setting is a bit more complex. Users are encouraged to read [Casorso et al., 2019][2] for more information regarding the mathematical aspect of mode matching.</p>
<p>In short, the data from the Match Group is used and modes are matched to the Reference group to allow for a better temporal comparison of the dynamic decomposition.</p>
<p>In this implementation, only the top performing modes (those having the highest damping times) are approximated. The reason for this is the heavy computation of mode matching.</p>
<p>### Exporting your visualizations</p>
<p>The dashboard is built using Dash by Plotly. Therefore, each figure comes with a toolbar which includes a camera icon. When pressed, a dialog appears and asks users for the location where the image should be saved.</p>
<p>To allow for flexibility after export and to ensure high quality, the images are exported in Scalable Vector Graphics format (<cite>.svg</cite>).</p>
<p>### Debugging</p>
<p>A tab called <cite>log</cite> is included at all times to give users the ability to see what the program is doing in the back-end. If any errors are encountered, the detailed error-log should be displayed within this tab. A file version <cite>log.log</cite> can also be found in the <cite>cache/</cite> directory in the project root.</p>
<p>## Input data</p>
<p>This dashboard handles preprocessed data as described in [Casorso et al., 2019 - Methods][2].
The input needed for a successful visualization is one or multiple <cite>.mat</cite> file(s). Each file corresponds to an fMRI run and should contain one matrix of size <cite>N x T</cite>, with <cite>N</cite> being the number of ROIs in the cortical parcellation and <cite>T</cite> being the observational timepoints.</p>
<p>In the current version, two parcellations are supported:</p>
<ul class="simple">
<li>[Glasser et al., 2016][1], containing <cite>N = 360</cite> regions.</li>
<li>[Schaefer et al., 2018][3], containing <cite>N = 400</cite> regions.</li>
</ul>
<p>## References</p>
<p>[1] M. F. Glasser et al., “A multi-modal parcellation of human cerebral cortex,” Nature, vol. 536, no. 7615, pp. 171–178, 11 2016, doi: 10.1038/nature18933.</p>
<p>[2] J. Casorso, X. Kong, W. Chi, D. Van De Ville, B. T. T. Yeo, and R. Liégeois, “Dynamic mode decomposition of resting-state and task fMRI,” NeuroImage, vol. 194, pp. 42–54, Jul. 2019, doi: 10.1016/j.neuroimage.2019.03.019.</p>
<p>[3] A. Schaefer et al., “Local-Global Parcellation of the Human Cerebral Cortex from Intrinsic Functional Connectivity MRI,” Cerebral Cortex, vol. 28, no. 9, pp. 3095–3114, Sep. 2018, doi: 10.1093/cercor/bhx179.</p>
<p>[2]: <a class="reference external" href="http://www.sciencedirect.com/science/article/pii/S1053811919301922">http://www.sciencedirect.com/science/article/pii/S1053811919301922</a>
[1]: <a class="reference external" href="https://pubmed.ncbi.nlm.nih.gov/27437579/">https://pubmed.ncbi.nlm.nih.gov/27437579/</a>
[3]: <a class="reference external" href="https://academic.oup.com/cercor/article/28/9/3095/3978804">https://academic.oup.com/cercor/article/28/9/3095/3978804</a>
[4]: <a class="reference external" href="https://build-system.fman.io/">https://build-system.fman.io/</a></p>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">dmd</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Arnaud Dhaene (EPFL).
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.9</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
      |
      <a href="_sources/includeme.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>